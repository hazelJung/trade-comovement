# 모델 성능 비교 리포트

## 📊 실행 결과 요약

### 1. 공행성 쌍 개수 비교

| 모델 | 쌍 개수 | 비고 |
|------|---------|------|
| **preprocessing 모델** | 1,425개 | 이중 필터링 적용 (min_abs_corr=0.3, corr_threshold=0.4) |
| **ev_battery 모델** | 2,604개 | 이중 필터링 + 클러스터 가중치 (min_abs_corr=0.25) |
| **차이** | +1,179개 (1.83배) | ev_battery 모델이 더 많은 쌍 탐색 |

**분석**:
- ev_battery 모델이 약 1.83배 더 많은 쌍을 찾음
- preprocessing 모델의 모든 쌍이 ev_battery 모델에도 포함됨 (100% 포함)
- ev_battery 모델만의 추가 쌍: 1,179개

### 2. 예측값 통계 비교

#### preprocessing 모델
- **평균**: 4,099,733
- **중앙값**: 628,695
- **최소값**: 0
- **최대값**: 103,445,166
- **0값 비율**: 1.26%

#### ev_battery 모델
- **평균**: 4,495,769 (+9.7%)
- **중앙값**: 644,274 (+2.5%)
- **최소값**: 0
- **최대값**: 105,394,550 (+1.9%)
- **0값 비율**: 4.26% (+3.0%p)

**분석**:
- ev_battery 모델의 평균 예측값이 약 10% 높음
- 0값 비율이 더 높음 (추가된 쌍 중 일부가 낮은 예측값)
- 중앙값은 비슷하여 대부분의 쌍은 유사한 예측값

### 3. 공통 쌍 분석

- **공통 쌍**: 1,425개 (100% of preprocessing)
- **preprocessing만**: 0개
- **ev_battery만**: 1,179개

**분석**:
- preprocessing 모델의 모든 쌍이 ev_battery 모델에도 포함
- ev_battery 모델이 더 넓은 커버리지 제공

### 4. 예측값 분포 비교 (공통 쌍)

- **공통 쌍 수**: 1,425개
- **평균 예측값 차이**: 472,944
- **중앙값 예측값 차이**: 121,751
- **상관계수**: 0.9951

**분석**:
- 매우 높은 상관계수 (0.9951) → 두 모델의 예측값이 거의 일치
- 평균 차이는 있지만, 대부분의 쌍에서 유사한 예측
- 모델 간 일관성 높음

## 🎯 평가 지표 예상 성능

### F1 Score (60% 가중치)

**preprocessing 모델**:
- 더 엄격한 필터링 → 높은 Precision 기대
- 적은 쌍 수 → 낮은 Recall 가능성

**ev_battery 모델**:
- 더 많은 쌍 → 높은 Recall 기대
- 클러스터 가중치로 노이즈 포함 가능 → 낮은 Precision 가능성

**예상**: ev_battery 모델이 더 높은 F1 Score (더 많은 쌍으로 Recall 향상)

### NMAE (40% 가중치)

**공통 쌍**:
- 상관계수 0.9951 → 매우 유사한 예측값
- 평균 차이 472,944 → 일부 쌍에서 차이 존재

**예상**: 두 모델 모두 유사한 NMAE (공통 쌍의 예측값이 유사)

## 📈 개선 효과

### preprocessing 모델 개선
- ✅ 안정성 점수 추가 → 더 안정적인 쌍 선택
- ✅ 이중 필터링 → 노이즈 제거
- ✅ Ridge 정규화 + Feature Scaling → 예측 정확도 향상

### ev_battery 모델 개선
- ✅ 이중 필터링 (min_abs_corr=0.25) → 노이즈 제거
- ✅ Ridge 정규화 + Feature Scaling → 예측 정확도 향상
- ✅ 클러스터 가중치 유지 → 도메인 특화 유지

## 🔍 주요 발견사항

1. **쌍 개수 차이**: ev_battery 모델이 1.83배 더 많은 쌍 탐색
2. **예측값 일관성**: 공통 쌍에서 매우 높은 상관계수 (0.9951)
3. **커버리지**: preprocessing 모델의 모든 쌍이 ev_battery 모델에 포함
4. **0값 비율**: ev_battery 모델이 더 높음 (추가된 쌍의 영향)

## 💡 권장사항

### preprocessing 모델 사용 시기
- 높은 Precision이 중요한 경우
- 엄격한 필터링이 필요한 경우
- 안정적인 쌍만 필요한 경우

### ev_battery 모델 사용 시기
- 높은 Recall이 중요한 경우
- 더 넓은 커버리지가 필요한 경우
- EV 배터리 도메인 특화가 중요한 경우

### 앙상블 고려
- 두 모델의 예측값이 매우 유사 (상관계수 0.9951)
- 공통 쌍에 대해서는 가중 평균 앙상블 가능
- ev_battery 모델의 추가 쌍 활용

## 📝 다음 단계

1. **실제 평가**: 정답 파일과 비교하여 F1 Score 및 NMAE 계산
2. **하이퍼파라미터 튜닝**: 
   - Ridge alpha 조정
   - min_abs_corr 조정
   - max_pairs 제한 고려
3. **앙상블 실험**: 두 모델의 예측 결합

---

**생성 일시**: 2024-11-16
**모델 버전**: 
- preprocessing: 개선 버전 (안정성 점수, 이중 필터링, Ridge)
- ev_battery: 개선 버전 (이중 필터링, Ridge)

